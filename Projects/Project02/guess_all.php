<?php
function guess($mess, &$res, $tmp = "", $n = 0)
{
    if ($n == strlen($mess))
    {
        array_push($res, $tmp);
        return;
    }
    if ($mess[$n] === "-")
    {
        guess($mess, $res, $tmp . "1", $n + 1);
        /*
         * guess("00--11-", [], "001", 3);
         * guess("00--11-", [], "0011", 4);
         * guess("00--11-", [], "0011111", 7);
         * guess("00--11-", ["0011111", "0011110"], "0011111", 7);
         * guess("00--11-", ["0011111", "0011110", "0011111", "0011110"], "0001", 4);
         */
        guess($mess, $res, $tmp . "0", $n + 1);
        /*
         * guess("00--11-", [], "000", 3);
         * guess("00--11-", [], "0010", 4);
         * guess("00--11-", ["0011111"], "0011110", 7);
         * guess("00--11-", ["0011111", "0011110"], "0011110", 7);
         */
    }
    else
    {
        guess($mess, $res, $tmp . $mess[$n], $n + 1);
        /*
         * guess("00--11-", [], "0", 1);
         * guess("00--11-", [], "00", 2);
         * guess("00--11-", [], "00111", 5);
         * guess("00--11-", [], "001111", 6);
         * guess("00--11-", ["0011111", "0011110"], "00101", 5);
         * guess("00--11-", ["0011111", "0011110"], "001011", 6);
         * guess("00--11-", ["0011111", "0011110", "0011111", "0011110"], "00011", 5);
         */
    }
}
$res = array();
$str = "00-0";
guess($str, $res);
var_dump($res);